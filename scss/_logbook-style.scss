// main logbook css

html {
    background : $yellow;
}



// main form
.search-form {
    @media (min-width: 550px) {
        max-width : 400px;
        margin : 20px auto;
    }
}


// searchbar
input {
    width : 100%;
    padding : 15px;

    &.search {
        margin : 0 auto;
        display : block;
        width : 95vw;
        text-align : center;
        outline : 0;
        border : 10px solid $grey_a;
        position : relative;
        top : 10px;
        z-index : 2;
        border-radius : 5px;
        font-size : 3rem;
        font-weight : 400;
        box-shadow : $box_inset;
        transition : 1s; // slide searchbar down on view change
        @media (min-width: 550px) {
            margin : 0;
            width : 120%;
            left : -10%;
            font-size : 4rem;
        }
    }

    &:disabled {
        color : $grey_d;
        background-color : $grey_c;
    }
}


// view mechanics
.viewbox {
    overflow : hidden;
    max-width : 90vw;
    margin : 0 auto;
    @media (min-width: 550px) {
        max-width : 100%;
    }
}


// ul container
.list-container {
    display : flex;
    flex-direction : row;
    width : 180vw;
    transition : 0.5s;
    @media (min-width: 550px) {
        width : 800px;
    }
}


// uls + buttons
.savedBtns,
.suggestions,
.climb-info,
.favourites {
    width : 100%;
    max-width : 90vw;
    margin : 10px 0 0;
    padding : 0;
    position : relative;
    @media (min-width: 550px) {
        max-width : 400px;
    }
}




// suggestions + favourites list items
.suggestions li,
.favourites li {
    list-style : none;
    display : flex;
    flex-wrap : wrap;
    align-items : stretch;
    margin : 0;
    padding : 15px 20px;
    background : $white;
    border-bottom : 1px solid $grey_c;
    box-shadow : $box_reg;
    transition : background 0.2s;

    > .fa {
        align-self : center;
        margin-right : 10px;
    }
    
    // after search
    &.searched {
        padding : 0;
        cursor : pointer;
        transition : linear-gradient 0.5s;
        > span {
            pointer-events : none;
            padding : 20px 10px;
            &.date,
            &.more {
                display : flex;
                align-items : center;
                justify-content : center;
            }
            &.date {
                width : 25%;
                flex-basis : 25%;
                background : $grey_c;
                color : $black;
                font-size : 1.5rem;
            }
            &.name {
                flex-basis : 65%;
            }
            &.more {
                flex-basis : 10%;
            }
            // repeat ascent
            &.repeat {
                color : $white;
                background-color : $green;
                flex-grow : 1;
                padding : 10px;
                text-align : center;
                font-size : 1.4rem;
                @media (min-width: 550px) {
                    font-size : 1.6rem;
                }
            }
        }
        .fa {
            transition : translateX 0.5s; // right arrow
        }
    }
    // after searched: hover
    &.searched:hover {
        background : $grad_hover;
        .fa {
            transform : translateX(5px); // right arrow
        }
    }
}






// calendar - within .date
// - can be used in both lists, needs to be independent
.calendar {
    display : flex;
    flex-direction: column;
    text-align : center;
    transform : rotate(-3.5deg);
    // month, day, year
    > span {
        padding : 3px 2px;
        transition : all .5s;
        &:hover {
            transform : scale(1.35) rotate(3.5deg);
            font-size : 100%;
        }
        // spread parts out
        &:hover + span {
            transform : translateY(15px);
        }
        &:hover + span + span {
            transform : translateY(30px);
        }
    }
}
// month, day, year
.month {
    background-color : $red;
    color : $white;
    font-size : 1rem;
}
.day {
    background-color : $white;
    font-size : 1.5rem;
}
.year {
    background-color : $grey_d;
    font-size : 1rem;
}








// ––––––––––––––––––––––––––––––––––––––––––––––––––
// climb info view

// climb container
// - make this similar to the above - removing absolute positioning
.climb-info {
    align-self : flex-start; // stop list from being realy high
    background : $white;
    list-style : none;
    box-shadow : $box_reg;
}


// list items - each data property
.climb-info li {
    list-style : none;
    display : flex;
    align-items : stretch;
    position : relative;

    // grey back button
    .back {
        display : flex;
        justify-content : center;
        width : 25%;
        flex-basis : 25%;
        position : relative;
        padding : 10px;
        background : $grey_c;
        color : $black;
        font-size : 1.5rem;
        cursor : pointer;
        pointer-events : all;
        overflow : hidden; // contain calendar
        .fa {
            position : absolute;
            top : calc(50% - 10px);
            left : calc(50% - 10px);
            pointer-events : none;
        }
        // calendar container
        .date {
            width : 100%;
            pointer-events : none;
        }
    }

    // details column
    .climb-details {
        display : flex;
        flex-basis : 75%;
        flex-direction : column;
        padding : 10px;
        @media (min-width: 550px) {
            padding : 20px;
        }
        // icons
        .grade,
        .discipline,
        .style,
        .partners,
        .notes,
        .crag {
            .fa:first-child {
                margin-right : 10px;
                width : 15px;
            }
        }
    }


    // within climb details

    // - save the date + add extra info to it
    // - save/edit the climb details
    // - search options - search routes of same grade, at same crag, on same day
    .save {
        position : absolute;
        right : 0;
        bottom : 0;
        width : 36px;
        height : 36px;
        border-radius : 18px 0 0 0;
        line-height : 1;
        background : $green_dark; 
        cursor : pointer;
        transition : all 1s;
        z-index : 1;
        overflow : hidden;
        > .fa {
            color : $white;
            width : 18px;
            height : 18px;
            pointer-events : none;
            position : absolute;
            top : 10px;
            left : 10px;
            transition : all 1s;
        }
        &:hover {
            background : $green;
        }



        // expanded
        &.expanded {
            display : flex;
            flex-direction : row;
            width : 100%;
            height : 100%;
            border-radius : 0;
            cursor : default;
            pointer-events : none;
            z-index : 2;
            transition : all 1s;
            > .fa {
                // top : calc(50% - 10px);
                // left : 10%;
                cursor : pointer;
                pointer-events : all;
                //
                position : relative;
                display : flex;
                flex-basis : 25%;
                align-items : center;
                justify-content : center;

                top : 0;
                left : 0;
                width : 100%;
                height : 100%;
            }
            &:hover {
                background : $green_dark;
            }
        }
    }






    // climb settings section
    // - added within .settings.expanded only
    .climb-settings {
        // background : $white;
        padding : 20px;
        // display : flex;
        // flex-direction : column;
        flex-basis : 75%;
        align-items : center;
        transform : translateY(100%);
        transition : all 1s;
        &.slide {
            background : $white;
            transform : translateY(0%);
            pointer-events : all;
        }
        > div {
            display : flex;
            justify-content : space-between;
            .fa {
                margin-right: 10px;
                width: 15px;
            }
            // contains checkbox
            > div:nth-child(2) {
                flex-basis : 15%;
                display : flex;
                position : relative;
            }
        }
        .title {
            display : block; // required for central alignment
        }
        //
        .favourite,
        .memorable-day {
            margin-bottom : 10px;
            height : 30px;
            align-items : center;
        }
        .memorable-day {
            flex-wrap : wrap;
            > div:nth-child(3){
                margin-top : 10px;
                width : 100%;
            }
            textarea {
                width : 100%;
                padding : 5px 10px;
                line-height : 1.3;
                min-height : 100px;
            }
        }

        // checkboxes
        // - checked items have icon
        input[type="checkbox"] + label {
            font-family : $font-icons;
            font-size : 2.5rem;
            pointer-events : none;
            position : absolute;
            left : -3px;
            top : -3px;
            &:before {
                content : "";
            }
        }
        .favourite input[type="checkbox"]:checked + label:before {
            content : '\f004';
            color : $red;
            border-radius : 2.5rem;
            animation: pulseRed 2s infinite;
        }
    }











    // ____________________
    //
    .title {
        font-size : 2rem;
        text-align : center;
        margin-bottom : 10px;
        padding-bottom : 10px;
        border-bottom : 2px solid;
        @media (min-width: 550px) {
            font-size : 2.5rem;
        }
    }

    .notes {
        margin : 10px 0;
        padding : 10px 0;
        border-top : 2px solid;
        border-bottom : 2px solid;

        font-size : 1.4rem;
        max-height : 150px;
        overflow-y : scroll;
        position : relative;
        @media (min-width: 550px) {
            font-size : 1.6rem;
        }
        .fa {
            font-size : 1.6rem;
        }

        // for when it overflows:
        &.overflow {
            overflow-y : auto;
            max-height : 100%;
            padding-bottom : 0;
            > .fa {
                position : absolute;
                top : 10px;
                background : white;
                width : 25px;
                height : 25px;
                border-bottom-right-radius : 20px;
            }
            > div {
                overflow-y : scroll;
                max-height : 150px;
                text-indent : 25px;
                padding-bottom : 25px;
            }
            > .fade-out {
                position : absolute;
                bottom : 0;
                left : 0;
                right : 0;
                display : flex;
                justify-content : center;
                align-items : center;
                height : 30px;
                // background : $grad_blue;
                > .fa {
                    margin-right : 0;
                    text-indent : 0;
                    position : absolute;
                    bottom : 0;
                    text-align : center;
                    width : 50px;
                    height : 25px;
                    padding-top : 5px;
                    border-radius : 25px 25px 0 0;
                    background : rgba($black, 0.5);
                    color : $white;
                }
            }
        }
    }

    // crag
    .crag {
        margin-top : 10px;
    }

    

}



//
// _______________________________
// favourite climbs and memorable days - toggle buttons
// - these are added to the DOM as climbs are added
// - list uls exist before, have .hidden class added
.savedBtns {
    display : flex;
    flex-direction : row;
    justify-content : space-between;
    position : relative;
    top : 10px;
    height : 50px;
    margin : 0 auto;
    // back btn
    > button {
        @include btnType('yellow', 'icon');
        flex-basis : 25%;
        width : 25%;
    }
    > .savedBtnsContainer {
        display : flex;
        flex-basis : 75%;
        .favBtn {
            @include btnType('red', 'icon');
            flex-grow : 1;
        }
        .memBtn {
            @include btnType('blue', 'icon');
            flex-grow : 1;
        }
    }
}